(function(e){function i(e,t,n){t=function(e){if(typeof e==="string")return e;var t="";for(var n in e){if(e.hasOwnProperty(n)){var r=e[n];n=n.replace(/([A-Z])/g,"-$1").toLowerCase();t+=n+":"+(n==="content"?'"'+r+'"':r)+"; "}}return t}(t);if(document.styleSheets.length==0&&!n){var r=document.createElement("style");r.appendChild(document.createTextNode(""));document.head.appendChild(r);n=r.sheet}else n=n||document.styleSheets[document.styleSheets.length-1];if(n.insertRule)n.insertRule(e+" {"+t+"}",n.cssRules.length);else if(n.addRule)n.addRule(e,t)}var t=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),n=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),r=false;e.fn.noisyImage=function(s){var o;s=e.extend({},e.fn.noisyImage.defaults,s);if(!r){i(".jqueryNoisyImage",{position:"relative",overflow:"hidden","line-height":0});i(".jqueryNoisyImage IMG",{position:"static !important","float":"none !important"});i(".jqueryNoisyImage .noise",{position:"relative",display:"block",left:"-200%",top:"-200%",width:"500%",height:"500%"});if(t||n){i("@-webkit-keyframes noise","0%,100%{-webkit-transform:translate(0, 0);transform:translate(0, 0)}10%{-webkit-transform:translate(-5%, -10%);transform:translate(-5%, -10%)}20%{-webkit-transform:translate(-15%, 5%);transform:translate(-15%, 5%)}30%{-webkit-transform:translate(7%, -25%);transform:translate(7%, -25%)}40%{-webkit-transform:translate(21%, 20%);transform:translate(21%, 20%)}50%{-webkit-transform:translate(-25%, 10%);transform:translate(-25%, 10%)}60%{-webkit-transform:translate(15%, 0%);transform:translate(15%, 0%)}70%{-webkit-transform:translate(0%, 15%);transform:translate(0%, 15%)}80%{-webkit-transform:translate(25%, 19%);transform:translate(25%, 19%)}90%{-webkit-transform:translate(-10%, 10%);transform:translate(-10%, 10%)}")}else{i("@keyframes noise","0%,100%{transform:translate(1%, 1%) }10%{transform:translate(-5%, -10%) }20%{transform:translate(-15%, 5%) }30%{transform:translate(7%, -25%) }40%{transform:translate(19%, 20%) }50%{transform:translate(-25%, 10%) }60%{transform:translate(15%, 1%) }70%{transform:translate(1%, 15%) }80%{transform:translate(25%, 20%) }90%{transform:translate(-10%, 10%) }")}r=true}if(s.image){s.fallback=s.image;s.forceFallback=true}o="url("+s.fallback+")";return this.each(function(){var t=!e(this).parent().hasClass("jqueryNoisyImage");if(t)e(this).wrap("<div></div>").after('<div class="noise"></div>');var n=e(this);var r=e(this)[0].tagName;var i=e(this).parent();var u=i.find(".noise");if(e.fn.noisy&&!s.forceFallback){if(!t)u.css("background-image","");u.noisy(s)}else u.css({"background-image":o,opacity:s.opacity});u.css({"background-size":s.size*s.scale+"px "+s.size*s.scale+"px","-moz-animation":s.speed+"s steps(5, end) 0s normal none infinite noise","-webkit-animation":s.speed+"s steps(5, end) 0s normal none infinite noise","-ms-animation":s.speed+"s steps(5, end) 0s normal none infinite noise","-o-animation":s.speed+"s steps(5, end) 0s normal none infinite noise",animation:s.speed+"s steps(5, end) 0s normal none infinite noise"});if(r=="IMG"){if(e(this).attr("alt"))i.attr("title",e(this).attr("alt"));if(e(this).css("float")!="none")i.css("float",e(this).css("float"))}var a={position:e(this).css("position"),width:e(this).width(),height:e(this).height(),marginTop:e(this).css("marginTop"),marginRight:e(this).css("marginRight"),marginBottom:e(this).css("marginBottom"),marginLeft:e(this).css("marginLeft"),display:e(this).css("display")=="inline"?"inline-block":e(this).css("display"),"float":e(this).css("float")};if(e(this).css("position")!="static"){e(this).css("position","static");e.extend(a,{top:e(this).css("top"),right:e(this).css("right"),bottom:e(this).css("bottom"),left:e(this).css("left")})}e(this).css({margin:0});if(t){i.addClass("jqueryNoisyImage").css(a)}})};e.fn.noisyImage.defaults={opacity:.2,scale:1.2,speed:5,intensity:.8,size:250,monochrome:true,randomColors:true,fallback:"noise.png",forceFallback:false,disableCache:false}})(jQuery)
